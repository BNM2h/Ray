# Chapter 2
## Exercise
1. 입실론 탐욕적 행동 선택에서 두 개의 행동이 있고 $\varepsilon=0.5$라면 탐욕적 행동을 선택할 확률은 얼마인가?
> 행동이 $a_{1}$, $a_{2}$이 있고, 최적 행동이 $a_{1}$이라고 하자. $\varepsilon=0.5$이기 때문에 $1-\varepsilon=0.5$이고 따라서 50% 확률로 $a_{1}$을 선택하게 된다. 나머지 50% 선택은 가능한 모든 행동을 균등한 확률로(random) 두고 하게 된다. 따라서 $0.5*0.5 = 0.25$, 즉 $a_{1}$, $a_{2}$를 각각 25% 확률로 선택하게 된다. 정리해보면 최적 행동인 $a_{1}$은 $0.5+0.25=0.75$, 75% 확률로 선택되며 $a_{2}$는 $0.25$, 25% 확률로 선택된다.

2. **(다중 선택 예제)** 네 개의 행동 중 하나를 선택하는 다중 선택 문제를 생각해 보자. 각 행동은 번호 1, 2, 3, 4로 구분한다.($a_{1}$, $a_{2}$, $a_{3}$, $a_{4}$) 이 문제에 입실론 탐욕적 행동 선택을 이용한 다중 선택 알고리즘을 적용한다고 생각해 보자. 이때 이 알고리즘은 표본 평균 행동 가치 추정값을 이용하고 초기 추정값 $Q_{1}(a)=0$을 적용한다. 시간 단계에 따른 행동 및 가치의 몇몇 초기값들이 $A_{1}=1(=$a_{1}$), R_{1}=-1, A_{2}=2(=$a_{2}$), R_{2}=1, A_{3}=2(=$a_{2}$), R_{3}=-2, A_{4}=2(=$a_{2}$), R_{4}=2, A_{5}=3(=$a_{3}$), R_{3}=0$이라고 가정해보자. 이 시간 단계 중 일부에서 행동이 무작위로 선택되는 입실론 상황이 발행했을 수 있다. 어떤 시간 단계에서 이 상황이 확실하게 발생했을까? 어떤 시간 단계에서 이 상황이 발생하는 것이 가능했을까?

> 시간 순서대로 선택한 것을 기반으로 가치 테이블을 작성하면 아래와 같다.

|action|$t_{1}$|$t_{2}$|$t_{3}$|$t_{4}$|$t_{5}$|
|:-----|:-----:|:-----:|:-----:|:-----:|:-----:|
|$a_{1}$|-1    |-1     |-1     |-1     |-1     |
|$a_{2}$|0     |1      |-0.5   |0.333  |0.333  |
|$a_{3}$|0     |0      |0      |0      |0      |
|$a_{4}$|0     |0      |0      |0      |0      |


3. 그림 2.2의 비교 그래프에서 `누적 보상`과 `최고의 행동을 선택할 확률`을 고려할 때 어떤 방법이 장기적으로 가장 좋은 성능을 보여줄 것인가? 얼마나 더 좋을 것인가? 이 문제에 대해 정량적으로 답변해 보라.
> 

4. 시간 간격의 크기 $\alpha_{n}$이 고정된 값이 아니라면 추정값 $Q_{n}$
은 이전까지 받은 보상들의 가중 평균이고, 이때 가중치는 식 2.6에서 주어지는 것과는 다르다. 식 2.6과 유사한 일반적인 경우에 있어서 바로 이전 보상에 적용할 가중치는 얼마인가? 시간 간격의 크기와 관련하여 답변해 보라.
* (식2.6) 

$$\begin{aligned}
Q_{n+1} &=Q_{n}+\alpha\left[R_{n}-Q_{n}\right] \\
&=\alpha R_{n}+(1-\alpha) Q_{n} \\
&=\alpha R_{n}+(1-\alpha)\left[\alpha R_{n-1}+(1-\alpha) Q_{n-1}\right] \\
&=\alpha R_{n}+(1-\alpha) \alpha R_{n-1}+(1-\alpha)^{2} Q_{n-1} \\
&=\alpha R_{n}+(1-\alpha) \alpha R_{n-1}+(1-\alpha)^{2} \alpha R_{n-2}+\\
& \quad \cdots+(1-\alpha)^{n-1} \alpha R_{1}+(1-\alpha)^{n} Q_{1} \\
&=(1-\alpha)^{n} Q_{1}+\sum_{i=1}^{n} \alpha(1-\alpha)^{n-i} R_{i}
\end{aligned}$$

> 

5. *(programming)* 표본평균 방법을 비정상적(nonstationary) 문제에 적용하기 어렵다는 점을 보여주는 실험을 설계하고 수행하라. 모든 $q_{*}(a)$가 동일한 초깃값으로부터 시작하며 독립적으로 무작위 값을 갖도록 변형한 10중 선택 문제를 활용하라(말하자면, 평균이 0이고 표준 편차가 0.01인 정규 분포를 따르는 확률 변수를 각 시간 단계에서 $q_{*}(a)$에 더하도록 함으로써). 점증적으로 계산한 표본평균을 활용하는 행동 가치 방법과 고정된 시간 간격($\alpha=0.1$)을 사용하는 또 다른 행동 가치 방법에 대해 각각 그림 2.2와 같은 그래프를 그려 보라. $\varepsilon=0.1$을 적용하고 더 많은 단계, 말하자면 10,000번의 단계를 적용해 보라.

> 

## Q&A